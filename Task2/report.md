# Отчет

1. Открыть консоль и зайти по ssh на ВМ
2. Открыть вторую консоль и также зайти по ssh на ту же ВМ (можно в докере 2 сеанса)
3. Запустить везде psql из под пользователя postgres
4. Сделать в первой сессии новую таблицу и наполнить ее данными
```
CREATE SCHEMA task2;

CREATE TABLE task2.users (
	id serial PRIMARY KEY, 
	name varchar 
);

INSERT INTO task2.users (name)
VALUES ('bob'), ('nick'), ('alice');
```
5. Посмотреть текущий уровень изоляции:
```
SHOW TRANSACTION ISOLATION LEVEL;
```
   Вывод: <b>read committed</b>
   <br>
6. Начать новую транзакцию в обеих сессиях с дефолтным (не меняя) уровнем
   изоляции
```
BEGIN;
```
7. В первой сессии добавить новую запись
```
INSERT INTO task2.users (name)
VALUES ('i am user from first trx');
```
8. Сделать запрос на выбор всех записей во второй сессии
```
SELECT * FROM task2.users;
```
9. Видите ли вы новую запись и если да то почему? После задания можете сверить
   правильный ответ с эталонным (будет доступен после 3 лекции)
```
Нет, не вижу, т.к уровень изоляции по умолчанию в pg (read committed) - не позволяет увидеть незавершенные изменения в других транзакциях.
```
10. Завершить транзакцию в первом окне
```
COMMIT;
```
11. Сделать запрос на выбор всех записей второй сессии
12. видите ли вы новую запись и если да то почему?
```
Да, т.к транзакция 1 закоммитила свои изменения - они стали доступны в транзакции 2 (read commited)
```
13. Завершите транзакцию во второй сессии
```
COMMIT;
```
14. Начать новые транзакции, но уже на уровне repeatable read в ОБЕИХ сессиях
```
BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;
```
15. В первой сессии добавить новую запись
```
INSERT INTO task2.users (name)
VALUES ('i am user from first trx');
```
16. Сделать запрос на выбор всех записей во второй сессии
```
SELECT * FROM task2.users;
```
17. Видите ли вы новую запись и если да то почему?
```
Нет
```
18. Завершить транзакцию в первом окне
```
COMMIT;
```
19. Сделать запрос на выбор всех записей во второй сессии
```
SELECT * FROM task2.users;
```
20. Видите ли вы новую запись и если да то почему?
```
Нет
```